% !Mode:: "TeX:UTF-8"%確保文檔utf-8編碼
%新加入的命令如下：addchtoc addsectoc reduline showendnotes hlabel
%新加入的环境如下：common-format  fig scalefig xverbatim

\documentclass[11pt,oneside]{book}
\newlength{\textpt}
\setlength{\textpt}{11pt}
\newif\ifphone
\phonefalse


\usepackage{myconfig}
\usepackage{mytitle}
\usepackage{python} 



\begin{document}
\frontmatter

\titlea{书籍}
\titleb{使用\LaTeX 排版}
\titlec{一种良好的风格}
\author{作者}
\authorinfo{作者：}
\editor{编者}
\email{a358003542@gmail.com}
\editorinfo{编者：}
\version{1.0}
\titleLC

\addchtoc{开头说的话}
\chapter*{开头说的话}
\begin{common-format}
开头说的话

%这里空一行。

\end{common-format}


\addchtoc{目录}
\setcounter{tocdepth}{2}
\tableofcontents

\begin{common-format}
\mainmatter

\chapter{章节开始}

\begin{python}
#!/usr/bin/env python3
# -*- coding: utf-8 -*-

##################################
#序言部分
#import math
#import random
\end{python}

\section{test}
\begin{python}
###################################
#程序正式开始
class FirstClass:
    def setdata(self,value):
        self.data=value#self is the instance
    def display(self):
        print(self.data)#self.data
\end{python}


\section{test}
\begin{python}

x = FirstClass()
y = FirstClass()
x.setdata("King Arthur")#self is x
y.setdata(3.1415926)
x.display()
y.display()

class SecondClass(FirstClass):
    def display(self):
        print('Current value = "%s"'  % self.data)

z = SecondClass()
z.setdata(42)
z.display()

class ThirdClass(SecondClass):
    def __init__(self,value):
        self.data=value
    def __add__(self,other):# self+ other
        return ThirdClass(self.data+other)
    def __str__(self):#print(self)
        return '[ThirdClass:%s]' % self.data#ThirdClass
    def mul(self,other):
        self.data *= other
\end{python}


\chapter{test}
\begin{python}

a = ThirdClass('abc')
a.display()
b = a + 'xyz'
b.display()

#if __name__ == '__main__': #if run as script
\end{python}


\chapter{运行结果}

\printpython



%这里空一行

\end{common-format}
\end{document}



